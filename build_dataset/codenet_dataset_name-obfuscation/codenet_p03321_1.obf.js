function Main(_0x1ebd71) {
    _0x1ebd71 = _0x1ebd71['split']('\x0a');
    var _0x10effc = _0x1ebd71[0x0]['split']('\x20')['map'](_0x464963 => +_0x464963);
    var _0x47a2ea = _0x10effc[0x1];
    _0x10effc = _0x10effc[0x0];
    var _0x2affce = Array(_0x10effc)['fill'](0x0)['map'](_0x449b28 => Array(_0x10effc)['fill'](0x0));
    for (var _0x3f26d5 = 0x0; _0x3f26d5 < _0x47a2ea; _0x3f26d5++) {
        var _0x443a5f = _0x1ebd71[_0x3f26d5 + 0x1]['split']('\x20')['map'](_0xe4037f => _0xe4037f - 0x1);
        _0x2affce[_0x443a5f[0x0]][_0x443a5f[0x1]] = _0x2affce[_0x443a5f[0x1]][_0x443a5f[0x0]] = 0x1;
    }
    var _0xe043b2 = 0x218711a00;
    var _0x532234;
    for (_0x3f26d5 = 0x0; _0x3f26d5 < _0x10effc; _0x3f26d5++) {
        var _0x540415 = _0x2affce[_0x3f26d5]['reduce']((_0x53ff0e, _0x171a34) => _0x53ff0e + _0x171a34);
        if (_0xe043b2 > _0x540415) {
            _0xe043b2 = _0x540415;
            _0x532234 = _0x3f26d5;
        }
    }
    var _0x5e780b = [], _0x3b8ce5 = [];
    for (_0x3f26d5 = 0x0; _0x3f26d5 < _0x10effc; _0x3f26d5++) {
        if (_0x3f26d5 === _0x532234)
            continue;
        if (_0x2affce[_0x532234][_0x3f26d5])
            _0x5e780b['push'](_0x3f26d5);
        else
            _0x3b8ce5['push'](_0x3f26d5);
    }
    for (_0x3f26d5 = 0x0; _0x3f26d5 < _0x5e780b['length']; _0x3f26d5++)
        for (var _0x5eac9b = _0x3f26d5 + 0x1; _0x5eac9b < _0x5e780b['length']; _0x5eac9b++) {
            if (!_0x2affce[_0x5e780b[_0x3f26d5]][_0x5e780b[_0x5eac9b]]) {
                console['log'](-0x1);
                return;
            }
        }
    for (_0x3f26d5 = 0x0; _0x3f26d5 < _0x3b8ce5['length']; _0x3f26d5++)
        for (_0x5eac9b = _0x3f26d5 + 0x1; _0x5eac9b < _0x3b8ce5['length']; _0x5eac9b++) {
            if (!_0x2affce[_0x3b8ce5[_0x3f26d5]][_0x3b8ce5[_0x5eac9b]]) {
                console['log'](-0x1);
                return;
            }
        }
    console['log'](_0xe043b2 * (_0xe043b2 + 0x1) / 0x2 + (_0x10effc - _0xe043b2 - 0x1) * (_0x10effc - _0xe043b2 - 0x2) / 0x2);
}
Main(require('fs')['readFileSync']('/dev/stdin', 'utf8'));