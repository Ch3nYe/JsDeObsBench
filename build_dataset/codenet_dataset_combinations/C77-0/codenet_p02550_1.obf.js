const a0_0xdf00eb=a0_0x3f58;(function(_0x481c00,_0x514f7c){const _0x36ad9e=a0_0x3f58;const _0x59cefa=_0x481c00();while(!![]){try{const _0x195cfc=parseInt(_0x36ad9e(0xee))/0x1+parseInt(_0x36ad9e(0x105))/0x2+-parseInt(_0x36ad9e(0xf8))/0x3*(-parseInt(_0x36ad9e(0xb2))/0x4)+-parseInt(_0x36ad9e(0xb5))/0x5*(-parseInt(_0x36ad9e(0xdc))/0x6)+parseInt(_0x36ad9e(0xcc))/0x7+-parseInt(_0x36ad9e(0xd3))/0x8*(-parseInt(_0x36ad9e(0xaf))/0x9)+-parseInt(_0x36ad9e(0x101))/0xa;if(_0x195cfc===_0x514f7c){break;}else{_0x59cefa['push'](_0x59cefa['shift']());}}catch(_0xebc238){_0x59cefa['push'](_0x59cefa['shift']());}}}(a0_0x227a,0x6e904));function a0_0x227a(){const _0x48934a=['CSxnP','DkTeX','SYAFi','UkdGD','RtSwq','VKXSx','oZsIN','6228971UaOaxj','function\x20*\x5c(\x20*\x5c)','drRQs','eIMFp','loZQN','init','izHus','4008jeMlAT','debu','MMfWq','SDRwL','lyMuq','toString','YJpFm','log','rSKgY','1716348tgMhwm','eBZIX','ZXvFi','HkIOV','split','hAmoP','UlWWT','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','length','XotzY','CtPNy','VBwhN','input','Ggfci','/dev/stdin','Dlodr','apply','nomQc','589665RZRyTG','test','action','rHSAB','rSUDU','mzFSH','PlVIp','UQsUU','MIOhz','qwujf','1791348lSQAAc','fRWBe','nvdqe','floor','search','Rzmtf','RDcfo','aNSBx','(((.+)+)+)+$','31180980hWbMlZ','map','constructor','FAlmJ','527830zYRvmR','XOeEz','nGgaA','GTjFu','aQZlF','bDJTT','TDIJq','AbAOo','klBfL','counter','itsgv','xtOPr','while\x20(true)\x20{}','bepNS','mKUcS','etrpv','LVsbW','xTyGF','vKNiN','6687iKypTh','ReZjq','reduce','4RdSebZ','hFYsh','HiUUG','15zAwbmm','OUyMh','chain','IWuMe','tIVea','EsKtj','XSRjf','NxNbT','push','VBYoR','pXFZg','pop','gger','readFileSync','sPkwe','nWJCb'];a0_0x227a=function(){return _0x48934a;};return a0_0x227a();}const a0_0x5a42be=(function(){const _0x1f3913=a0_0x3f58;const _0x247296={'izHus':function(_0xcf22e1,_0x437bb2){return _0xcf22e1+_0x437bb2;},'nGgaA':_0x1f3913(0xb7),'itsgv':function(_0x34b98e){return _0x34b98e();},'GTjFu':function(_0x594ce1,_0x54ae8f){return _0x594ce1!==_0x54ae8f;},'eBZIX':_0x1f3913(0xdb),'SShTw':function(_0x5d9a8f,_0x65eb9f){return _0x5d9a8f===_0x65eb9f;},'SYAFi':_0x1f3913(0xe7)};let _0x17c44a=!![];return function(_0x590dc7,_0x2c61bb){const _0x235d72=_0x1f3913;const _0x12ed10={'etrpv':_0x235d72(0xcd),'pXFZg':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','CSxnP':function(_0x4a8cc7,_0x590306){const _0x4865bb=_0x235d72;return _0x247296[_0x4865bb(0xd2)](_0x4a8cc7,_0x590306);},'aNSBx':_0x247296[_0x235d72(0x107)],'nomQc':function(_0x286571,_0x277f56){return _0x286571(_0x277f56);},'XSRjf':function(_0x4abca8){const _0x4bbe82=_0x235d72;return _0x247296[_0x4bbe82(0xa6)](_0x4abca8);},'ZXvFi':function(_0x4f8de8,_0x59daf5){const _0x3b15e4=_0x235d72;return _0x247296[_0x3b15e4(0x108)](_0x4f8de8,_0x59daf5);},'vKNiN':_0x247296[_0x235d72(0xdd)],'aQZlF':function(_0x2c713e,_0x36bfcd){return _0x247296['SShTw'](_0x2c713e,_0x36bfcd);},'nvdqe':_0x247296[_0x235d72(0xc7)]};const _0x2d96c7=_0x17c44a?function(){const _0x56c6f8=_0x235d72;const _0x4ecfb2={'LVsbW':_0x12ed10[_0x56c6f8(0xab)],'gtANT':_0x12ed10[_0x56c6f8(0xbf)],'UQsUU':function(_0x1d531f,_0xec2227){const _0x2d18e1=_0x56c6f8;return _0x12ed10[_0x2d18e1(0xc5)](_0x1d531f,_0xec2227);},'HiUUG':_0x12ed10[_0x56c6f8(0xff)],'klBfL':function(_0x34681d,_0x513c83){const _0x48d58b=_0x56c6f8;return _0x12ed10[_0x48d58b(0xed)](_0x34681d,_0x513c83);},'OUyMh':function(_0x2aad64){const _0x41a60d=_0x56c6f8;return _0x12ed10[_0x41a60d(0xbb)](_0x2aad64);},'ndlEy':function(_0x1b2a52,_0x48f11e,_0x16e2cc){return _0x1b2a52(_0x48f11e,_0x16e2cc);}};if(_0x12ed10[_0x56c6f8(0xde)](_0x12ed10[_0x56c6f8(0xae)],_0x12ed10[_0x56c6f8(0xae)])){_0x4ecfb2['ndlEy'](_0x13a66f,this,function(){const _0x319718=_0x56c6f8;const _0x5051c2=new _0x11cd71(_0x4ecfb2[_0x319718(0xac)]);const _0x4639b8=new _0x56e793(_0x4ecfb2['gtANT'],'i');const _0x38626c=_0xc2bb71('init');if(!_0x5051c2[_0x319718(0xef)](_0x4ecfb2[_0x319718(0xf5)](_0x38626c,_0x4ecfb2[_0x319718(0xb4)]))||!_0x4639b8[_0x319718(0xef)](_0x38626c+_0x319718(0xe8))){_0x4ecfb2[_0x319718(0xa4)](_0x38626c,'0');}else{_0x4ecfb2[_0x319718(0xb6)](_0x2160c7);}})();}else{if(_0x2c61bb){if(_0x12ed10[_0x56c6f8(0xa0)](_0x12ed10[_0x56c6f8(0xfa)],_0x12ed10[_0x56c6f8(0xfa)])){const _0x2ffabc=_0x2c61bb[_0x56c6f8(0xec)](_0x590dc7,arguments);_0x2c61bb=null;return _0x2ffabc;}else{_0x177362[_0x56c6f8(0xbd)](_0x52b0f4[_0x578948]);}}}}:function(){};_0x17c44a=![];return _0x2d96c7;};}());const a0_0x1a4fd0=a0_0x5a42be(this,function(){const _0x5a508a=a0_0x3f58;const _0x3df9c1={'tIVea':_0x5a508a(0x100)};return a0_0x1a4fd0[_0x5a508a(0xd8)]()['search'](_0x3df9c1[_0x5a508a(0xb9)])[_0x5a508a(0xd8)]()[_0x5a508a(0x103)](a0_0x1a4fd0)[_0x5a508a(0xfc)](_0x3df9c1[_0x5a508a(0xb9)]);});a0_0x1a4fd0();const a0_0x51080a=(function(){const _0x31017d=a0_0x3f58;const _0x32b901={'rHSAB':'lAAJx','xtOPr':function(_0x3506e3,_0xb1661d){return _0x3506e3(_0xb1661d);},'mKUcS':function(_0x4346ae,_0x1c07ff){return _0x4346ae===_0x1c07ff;},'Ggfci':_0x31017d(0xe2)};let _0xb09116=!![];return function(_0x25908c,_0x5d9d18){const _0x13b446=_0x31017d;const _0x39f55e={'VBYoR':function(_0x369def,_0x3434d6){const _0x412c37=a0_0x3f58;return _0x32b901[_0x412c37(0xa7)](_0x369def,_0x3434d6);}};if(_0x32b901[_0x13b446(0xaa)](_0x32b901[_0x13b446(0xe9)],_0x32b901[_0x13b446(0xe9)])){const _0x1b78e5=_0xb09116?function(){const _0x2f686e=_0x13b446;if(_0x32b901[_0x2f686e(0xf1)]!==_0x2f686e(0x104)){if(_0x5d9d18){const _0x1ac2db=_0x5d9d18[_0x2f686e(0xec)](_0x25908c,arguments);_0x5d9d18=null;return _0x1ac2db;}}else{_0x401798[_0x2f686e(0xbd)](_0x592151);_0x11f867[_0x2f686e(0xc0)]();}}:function(){};_0xb09116=![];return _0x1b78e5;}else{_0x39f55e[_0x13b446(0xbe)](_0x5ba0d9,'0');}};}());(function(){const _0xb499fc=a0_0x3f58;const _0x5d4e71={'ReZjq':function(_0x2f123b,_0x3a9fdb){return _0x2f123b===_0x3a9fdb;},'PlVIp':_0xb499fc(0xba),'fRWBe':function(_0x57ffc4,_0x4cdbd3){return _0x57ffc4(_0x4cdbd3);},'hAmoP':function(_0x1a73c0,_0x31014f){return _0x1a73c0+_0x31014f;},'tbDlW':'input','qwujf':function(_0x3d9c74,_0x4e48d5,_0x197412){return _0x3d9c74(_0x4e48d5,_0x197412);}};_0x5d4e71[_0xb499fc(0xf7)](a0_0x51080a,this,function(){const _0x5860a6=_0xb499fc;if(_0x5d4e71[_0x5860a6(0xb0)](_0x5d4e71[_0x5860a6(0xf4)],_0x5860a6(0xba))){const _0x59af26=new RegExp(_0x5860a6(0xcd));const _0x119c72=new RegExp(_0x5860a6(0xe3),'i');const _0x59beaf=_0x5d4e71[_0x5860a6(0xf9)](a0_0x2c430c,_0x5860a6(0xd1));if(!_0x59af26[_0x5860a6(0xef)](_0x5d4e71[_0x5860a6(0xe1)](_0x59beaf,_0x5860a6(0xb7)))||!_0x119c72[_0x5860a6(0xef)](_0x5d4e71[_0x5860a6(0xe1)](_0x59beaf,_0x5d4e71['tbDlW']))){_0x5d4e71['fRWBe'](_0x59beaf,'0');}else{a0_0x2c430c();}}else{const _0x3d8465=_0x4dc26d?function(){if(_0x34e17b){const _0x2d35cb=_0x4f4912['apply'](_0x5f230c,arguments);_0xa8e8e6=null;return _0x2d35cb;}}:function(){};_0x424d21=![];return _0x3d8465;}})();}());const input=require('fs')[a0_0xdf00eb(0xc2)](a0_0xdf00eb(0xea),'utf8');const lines=input[a0_0xdf00eb(0xe0)]('\x0a');const [N,X,M]=lines[0x0]['split']('\x20')[a0_0xdf00eb(0x102)](Number);let a=X;const map={};const loop=[];const pre=[a];for(let i=0x1;i<N;i++){a=a*a%M;if(map[a]===0x2){break;}else if(map[a]){loop['push'](a);pre[a0_0xdf00eb(0xc0)]();}else{pre[a0_0xdf00eb(0xbd)](a);}map[a]=(map[a]||0x0)+0x1;}const suf=[];for(let i=0x0;i<(N-pre[a0_0xdf00eb(0xe4)])%(loop[a0_0xdf00eb(0xe4)]||0x1);i++){suf[a0_0xdf00eb(0xbd)](loop[i]);}const sum=loop['reduce']((_0x56ef31,_0x4b2de9)=>_0x56ef31+_0x4b2de9,0x0);const lt=loop['length']?Math[a0_0xdf00eb(0xfb)]((N-pre[a0_0xdf00eb(0xe4)])/loop[a0_0xdf00eb(0xe4)]):0x0;console[a0_0xdf00eb(0xda)](pre[a0_0xdf00eb(0xb1)]((_0x5064b2,_0x55ebf0)=>_0x5064b2+_0x55ebf0,0x0)+sum*lt+suf[a0_0xdf00eb(0xb1)]((_0x360ea3,_0x21333e)=>_0x360ea3+_0x21333e,0x0));function a0_0x3f58(_0x1cdbf0,_0x5c9d44){const _0x57a6e1=a0_0x227a();a0_0x3f58=function(_0x2c430c,_0x51080a){_0x2c430c=_0x2c430c-0xa0;let _0x51d3e7=_0x57a6e1[_0x2c430c];return _0x51d3e7;};return a0_0x3f58(_0x1cdbf0,_0x5c9d44);}function a0_0x2c430c(_0x456972){const _0x15e9e1=a0_0xdf00eb;const _0x7045c6={'hFYsh':_0x15e9e1(0x100),'rSUDU':function(_0x281343,_0x3f35dc){return _0x281343+_0x3f35dc;},'Dlodr':_0x15e9e1(0xc1),'sPkwe':'action','NxNbT':function(_0x1577c3,_0x48415e){return _0x1577c3===_0x48415e;},'CtPNy':_0x15e9e1(0xcf),'myfli':function(_0x5d420a,_0x34c8be){return _0x5d420a===_0x34c8be;},'SDRwL':function(_0x24c1bf,_0x40db1f){return _0x24c1bf===_0x40db1f;},'MIOhz':_0x15e9e1(0xf3),'bepNS':function(_0x53bb55,_0x45393d){return _0x53bb55!==_0x45393d;},'MMfWq':function(_0x2f9ad1,_0x353b8a){return _0x2f9ad1/_0x353b8a;},'RtSwq':'length','UkdGD':function(_0x316538,_0x340390){return _0x316538%_0x340390;},'xTyGF':_0x15e9e1(0xfd),'lyMuq':_0x15e9e1(0xa2),'RDcfo':_0x15e9e1(0xd4),'HkIOV':function(_0x50719f,_0x35c5e5){return _0x50719f+_0x35c5e5;},'drRQs':function(_0x497396,_0x110db0){return _0x497396(_0x110db0);},'IWuMe':_0x15e9e1(0xcb),'DkTeX':'FqlQu','YJpFm':function(_0x194696,_0x1c4258){return _0x194696!==_0x1c4258;},'XotzY':_0x15e9e1(0xca)};function _0xf7a596(_0x54d7df){const _0x87a645=_0x15e9e1;const _0x4bb88={'XOeEz':function(_0x4b3508,_0x4e6861){return _0x7045c6['rSUDU'](_0x4b3508,_0x4e6861);},'nWJCb':_0x7045c6[_0x87a645(0xeb)],'eXFWg':_0x7045c6[_0x87a645(0xc3)],'bDJTT':function(_0x4d4450,_0x59869e){return _0x7045c6['NxNbT'](_0x4d4450,_0x59869e);},'AbAOo':_0x87a645(0xd0)};if(_0x7045c6[_0x87a645(0xe6)]!==_0x87a645(0xcf)){return![];}else{if(_0x7045c6['myfli'](typeof _0x54d7df,'string')){if(_0x7045c6[_0x87a645(0xd6)](_0x7045c6[_0x87a645(0xf6)],_0x7045c6['MIOhz'])){return function(_0x862c73){}[_0x87a645(0x103)](_0x87a645(0xa8))['apply'](_0x87a645(0xa5));}else{(function(){return!![];}[_0x87a645(0x103)](_0x4bb88[_0x87a645(0x106)](_0x87a645(0xd4),_0x4bb88[_0x87a645(0xc4)]))['call'](_0x4bb88['eXFWg']));}}else{if(_0x7045c6[_0x87a645(0xa9)](_0x7045c6[_0x87a645(0xf2)]('',_0x7045c6[_0x87a645(0xd5)](_0x54d7df,_0x54d7df))[_0x7045c6[_0x87a645(0xc9)]],0x1)||_0x7045c6[_0x87a645(0xc8)](_0x54d7df,0x14)===0x0){if(_0x7045c6[_0x87a645(0xad)]===_0x7045c6[_0x87a645(0xd7)]){return _0x25e58f[_0x87a645(0xd8)]()[_0x87a645(0xfc)](_0x7045c6[_0x87a645(0xb3)])[_0x87a645(0xd8)]()[_0x87a645(0x103)](_0x51756a)[_0x87a645(0xfc)](_0x7045c6['hFYsh']);}else{(function(){return!![];}[_0x87a645(0x103)](_0x7045c6[_0x87a645(0xfe)]+'gger')['call'](_0x87a645(0xf0)));}}else{(function(){const _0x2b1e7d=_0x87a645;if(_0x4bb88[_0x2b1e7d(0xa1)]('eIxvZ',_0x4bb88[_0x2b1e7d(0xa3)])){if(_0x1cb149){return _0x218ab1;}else{_0x51ab92(0x0);}}else{return![];}}['constructor'](_0x7045c6[_0x87a645(0xdf)]('debu',_0x87a645(0xc1)))[_0x87a645(0xec)]('stateObject'));}}_0x7045c6[_0x87a645(0xce)](_0xf7a596,++_0x54d7df);}}try{if(_0x7045c6[_0x15e9e1(0xbc)](_0x7045c6[_0x15e9e1(0xb8)],_0x7045c6[_0x15e9e1(0xc6)])){const _0xbaa9e9=_0xca5107[_0x15e9e1(0xec)](_0x11ffee,arguments);_0x3c925f=null;return _0xbaa9e9;}else{if(_0x456972){return _0xf7a596;}else{if(_0x7045c6[_0x15e9e1(0xd9)](_0x7045c6['XotzY'],_0x7045c6[_0x15e9e1(0xe5)])){_0x59f565[_0x15e9e1(0xbd)](_0x264611);}else{_0x7045c6['drRQs'](_0xf7a596,0x0);}}}}catch(_0x1bc7c5){}}