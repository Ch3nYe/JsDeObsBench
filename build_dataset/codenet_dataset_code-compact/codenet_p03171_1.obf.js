'use strict';function solve(N,A){var dp=new Array(N+0x1)['fill'](0x0)['map'](e=>new Array(N+0x1)['fill'](0x0));var row=0x1;var col=0x1;while(col<=N){var c=col;for(var r=row;r<=N;r++){if(c>N){break;}if(c===r){dp[r][c]=A[r-0x1];}else if(c===r+0x1){dp[r][c]=Math['max'](A[r-0x1],A[c-0x1]);}else{dp[r][c]=Math['max'](A[r-0x1]+Math['min'](dp[r+0x1][c-0x1],dp[r+0x2][c]),A[c-0x1]+Math['min'](dp[r+0x1][c-0x1],dp[r][c-0x2]));}c++;}col++;}var taro=dp[0x1][N];var sum=A['reduce']((acc,current)=>acc+current);return taro-(sum-taro);}function main(input){var lines=input['split']('\x0a');var N=parseInt(lines[0x0]);var A=lines[0x1]['split']('\x20')['map'](l=>parseInt(l));var ans=solve(N,A);console['log'](ans);}main(require('fs')['readFileSync']('/dev/stdin','utf8'));