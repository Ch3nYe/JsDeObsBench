(function main(){const lines=require('fs')['readFileSync']('/dev/stdin','utf8')['trim']()['split']('\x0a');const n=Number(lines['shift']());const adjLists=Array['from'](Array(n),()=>[]);lines['forEach']((l,i)=>l['split']('\x20')['splice'](0x2)['forEach'](e=>adjLists[i]['push'](e-0x1)));const d=[],f=[];dfs(adjLists,d,f);for(let i=0x0;i<n;i++){console['log'](i+0x1+'\x20'+d[i]+'\x20'+f[i]);}}());function dfs(adjLists,d,f){const WHITE=0x0,GRAY=0x1,BLACK=0x2;const size=adjLists['length'];const color=Array['from'](adjLists,()=>WHITE);let time=0x0;function visit(u){color[u]=GRAY;d[u]=++time;adjLists[u]['forEach'](v=>{if(color[v]===WHITE){visit(v);}});color[u]=BLACK;f[u]=++time;}adjLists['forEach']((e,u)=>{if(color[u]===WHITE)visit(u);});}