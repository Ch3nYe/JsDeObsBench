'use strict';function Main(input){input=input['trim']()['split'](/\n/);const N=input['shift']()-0x0;const M=Math['pow'](0x2,N);const K=Math['pow'](0xa,0x9)+0x7;input=input['map'](str=>str['split'](/\s+/)['map'](x=>x==='1'));const Match=input;const dp=new Array(N)['fill'](0x0)['map']((x,j)=>new Object());dp[-0x1]={0x0:0x1};const p=new Array(N)['fill'](0x0)['map']((x,i)=>0x1<<i);for(let i=-0x1;i<N-0x1;i++){Object['keys'](dp[i])['forEach'](function(J){J=J-0x0;dp[i][J]%=K;for(let j=0x0;j<N;j++){if((J&p[j])>0x0)continue;if(Match[i+0x1][j])dp[i+0x1][J+p[j]]=(dp[i+0x1][J+p[j]]||0x0)+dp[i][J];}});}console['log']((dp[N-0x1][M-0x1]||0x0)%K);}Main(require('fs')['readFileSync']('/dev/stdin','utf8'));