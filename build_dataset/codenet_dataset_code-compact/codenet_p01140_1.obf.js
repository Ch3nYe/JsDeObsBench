var input=require('fs')['readFileSync']('/dev/stdin','utf8');var arr=input['trim']()['split']('\x0a');while(!![]){var str=arr['shift']();if(str=='0\x200')break;var ary=str['split']('\x20')['map'](Number);var h=[];var w=[];for(var i=0x0;i<ary[0x0];i++)h['push'](arr['shift']()-0x0);for(var i=0x0;i<ary[0x1];i++)w['push'](arr['shift']()-0x0);var H={};for(var i=0x0;i<h['length'];i++){var sum=0x0;for(var j=i;j<h['length'];j++){if(j!=i)sum+=h[j];H['hasOwnProperty'](h[i]+sum)?H[h[i]+sum]++:H[h[i]+sum]=0x1;}}var W={};for(var i=0x0;i<w['length'];i++){var sum=0x0;for(var j=i;j<w['length'];j++){if(j!=i)sum+=w[j];W['hasOwnProperty'](w[i]+sum)?W[w[i]+sum]++:W[w[i]+sum]=0x1;}}var cnt=0x0;for(var k in H){if(W['hasOwnProperty'](k))cnt+=H[k]*W[k];}console['log'](cnt);}