const fs=require('fs');const [h,w,k,...m]=fs['readFileSync']('/dev/stdin','utf8')['split'](/\s/);function solve(m,x=0x0,y=0x0,f){if(m['length']===0x0||m[0x0]['length']===0x0){return 0x0;}const n=m['join']('')['replace'](/\./g,'')['length'];let a=0x0;if(n==k){a++;}if(n<k){return a;}if(!f){for(let i=y;i<m['length'];i++){a+=solve([...m['slice'](0x0,i),...m['slice'](i+0x1)],x,i<y?y:i);}}for(let i=x;i<m[0x0]['length'];i++){a+=solve(m['map'](l=>l['slice'](0x0,i)+l['slice'](i+0x1)),i<x?x:i,y,!![]);}return a;}console['log'](solve(m));