function bomb(y,x,sum){YX[y][x]=sum;if(y==yx['length']-0x1){max=Math['max'](max,sum);}else if((yx['length']-0x1)/0x2>y){if(YX[y+0x1][x]<sum+yx[y+0x1][x])bomb(y+0x1,x,sum+yx[y+0x1][x]);if(YX[y+0x1][x+0x1]<sum+yx[y+0x1][x+0x1])bomb(y+0x1,x+0x1,sum+yx[y+0x1][x+0x1]);}else if((yx['length']-0x1)/0x2<=y){if(x-0x1>=0x0){if(YX[y+0x1][x-0x1]<sum+yx[y+0x1][x-0x1])bomb(y+0x1,x-0x1,sum+yx[y+0x1][x-0x1]);}if(x<yx[y]['length']-0x1){if(YX[y+0x1][x]<sum+yx[y+0x1][x])bomb(y+0x1,x,sum+yx[y+0x1][x]);}}}var input=require('fs')['readFileSync']('/dev/stdin','utf8');var Arr=input['trim']()['split']('\x0a');var yx=[];var YX=[];Arr['forEach'](function(v){var x=v['split'](',')['map'](Number);var X=x['map'](function(v){return 0x0;});yx['push'](x);YX['push'](X);});var max=0x0;bomb(0x0,0x0,yx[0x0][0x0]);console['log'](max);