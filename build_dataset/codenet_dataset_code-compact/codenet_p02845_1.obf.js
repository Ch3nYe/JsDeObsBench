function Main(input){input=input['trim']()['split']('\x0a')['map'](function(x){return x['split']('\x20');});var N=parseInt(input[0x0][0x0],0xa);var RGBWithoutOrder=[0x1,0x0,0x0];var tmp1,tmp2,flag;var ans=0x3;for(var i=0x1;i<N;i++){tmp2=0x0;tmp1=parseInt(input[0x1][i],0xa);for(var x of RGBWithoutOrder){if(x===tmp1)tmp2++;}ans*=tmp2;ans%=0x3b9aca00+0x7;for(var j=0x0;j<0x3;j++){if(RGBWithoutOrder[j]===tmp1){RGBWithoutOrder[j]++;break;}}}console['log'](ans);}Main(require('fs')['readFileSync']('/dev/stdin','utf8'));