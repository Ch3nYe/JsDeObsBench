function Main(s){s=s['split']('\x0a');var n=+s[0x0];var m=0x1<<n;var a=s[0x1]['split']('\x20')['map'](a=>+a);var b=[a[0x0]],c=[[a[0x0],0x0]],d=[[-0x1,-0x1]];for(var i=0x1;i<m;i++){f(i);}console['log'](b['slice'](0x1)['join']('\x0a'));function f(n){var q={},s=n,t=0x0;while(s){t++;s>>=0x1;}for(var i=0x0;i<t;i++){var u=n&(0x1<<i^0xfffff);if(u===n)continue;q[c[u][0x1]]=c[u][0x0];q[d[u][0x1]]=d[u][0x0];}s=[a[n],n],t=[-0x1,-0x1];for(i in q){if(t[0x0]>q[i])continue;if(s[0x0]>q[i])t=[q[i],i];else{t=s;s=[q[i],i];}}b[n]=Math['max'](b[n-0x1],t[0x0]+s[0x0]);c[n]=t;d[n]=s;}}Main(require('fs')['readFileSync']('/dev/stdin','utf8'));