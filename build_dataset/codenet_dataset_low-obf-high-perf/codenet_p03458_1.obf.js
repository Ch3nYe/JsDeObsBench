function a0_0x5bb8(){var _0x372092=['1609416VaHeII','2251845fGmXBk','apply','7652RcjIfc','map','/dev/stdin','5112807TavUWn','toString','fill','split','(((.+)+)+)+$','673069KfwAns','constructor','readFileSync','1055WIXFHo','1066798eBhWqY','1600554HJDVPG'];a0_0x5bb8=function(){return _0x372092;};return a0_0x5bb8();}function a0_0x24ff(_0x10f0ad,_0x1977e7){var _0x33cb62=a0_0x5bb8();return a0_0x24ff=function(_0x4a59e8,_0x458d8e){_0x4a59e8=_0x4a59e8-0x6d;var _0x5bb8a0=_0x33cb62[_0x4a59e8];return _0x5bb8a0;},a0_0x24ff(_0x10f0ad,_0x1977e7);}var a0_0x1b6588=a0_0x24ff;(function(_0x5964a4,_0x5ddf6c){var _0x5270d2=a0_0x24ff,_0x4e8ba5=_0x5964a4();while(!![]){try{var _0x5893be=-parseInt(_0x5270d2(0x75))/0x1+parseInt(_0x5270d2(0x79))/0x2+parseInt(_0x5270d2(0x7c))/0x3+-parseInt(_0x5270d2(0x6d))/0x4*(parseInt(_0x5270d2(0x78))/0x5)+-parseInt(_0x5270d2(0x7a))/0x6+parseInt(_0x5270d2(0x70))/0x7+-parseInt(_0x5270d2(0x7b))/0x8;if(_0x5893be===_0x5ddf6c)break;else _0x4e8ba5['push'](_0x4e8ba5['shift']());}catch(_0x59fb26){_0x4e8ba5['push'](_0x4e8ba5['shift']());}}}(a0_0x5bb8,0x72b07));function Main(_0x91aa71){var _0x19036e=a0_0x24ff,_0x4d5f05=(function(){var _0xb1f6c4=!![];return function(_0x53be2f,_0x1a66b1){var _0x2a0fa8=_0xb1f6c4?function(){var _0x4d0595=a0_0x24ff;if(_0x1a66b1){var _0x54f042=_0x1a66b1[_0x4d0595(0x7d)](_0x53be2f,arguments);return _0x1a66b1=null,_0x54f042;}}:function(){};return _0xb1f6c4=![],_0x2a0fa8;};}()),_0x53d821=_0x4d5f05(this,function(){var _0x793826=a0_0x24ff;return _0x53d821[_0x793826(0x71)]()['search'](_0x793826(0x74))[_0x793826(0x71)]()[_0x793826(0x76)](_0x53d821)['search']('(((.+)+)+)+$');});_0x53d821(),_0x91aa71=_0x91aa71[_0x19036e(0x73)]('\x0a');var _0x2d059e=_0x91aa71[0x0]['split']('\x20')[_0x19036e(0x6e)](_0x58e223=>parseInt(_0x58e223)),_0x2cea92=_0x2d059e[0x1];_0x2d059e=_0x2d059e[0x0];var _0x17fbfa=[],_0x3d8b0d=[],_0x317576=[];for(var _0x2b934e=0x0;_0x2b934e<_0x2d059e;_0x2b934e++){_0x17fbfa[_0x2b934e]=_0x91aa71[_0x2b934e+0x1][_0x19036e(0x73)]('\x20'),_0x3d8b0d[_0x2b934e]=parseInt(_0x17fbfa[_0x2b934e][0x1])%(_0x2cea92*0x2),_0x317576[_0x2b934e]=_0x17fbfa[_0x2b934e][0x2]==='W'?0x0:0x1,_0x17fbfa[_0x2b934e]=parseInt(_0x17fbfa[_0x2b934e][0x0])%(_0x2cea92*0x2);}var _0x493722=0x0;for(_0x2b934e=0x0;_0x2b934e<_0x2cea92;_0x2b934e++){var _0x681ece=0x0,_0x41e747=new Array(_0x2cea92*0x2)[_0x19036e(0x72)](0x0),_0x225893=new Array(_0x2cea92*0x2)['fill'](0x0);for(var _0x578442=0x0;_0x578442<_0x2d059e;_0x578442++){if((((_0x17fbfa[_0x578442]+_0x2b934e)/_0x2cea92^_0x3d8b0d[_0x578442]/_0x2cea92)&0x1)===_0x317576[_0x578442])_0x681ece++,_0x41e747[_0x3d8b0d[_0x578442]]++;else _0x225893[_0x3d8b0d[_0x578442]]++;}if(_0x493722<_0x681ece)_0x493722=_0x681ece;if(_0x493722<_0x2d059e-_0x681ece)_0x493722=_0x2d059e-_0x681ece;for(var _0x35f6e1=0x0;_0x35f6e1<_0x2cea92-0x1;_0x35f6e1++){_0x681ece+=_0x225893[_0x35f6e1]-_0x41e747[_0x35f6e1]+_0x225893[_0x35f6e1+_0x2cea92]-_0x41e747[_0x35f6e1+_0x2cea92];if(_0x493722<_0x681ece)_0x493722=_0x681ece;if(_0x493722<_0x2d059e-_0x681ece)_0x493722=_0x2d059e-_0x681ece;}}console['log'](_0x493722);}Main(require('fs')[a0_0x1b6588(0x77)](a0_0x1b6588(0x6f),'utf8'));