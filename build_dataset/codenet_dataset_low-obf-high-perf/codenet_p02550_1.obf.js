const a0_0x234345=a0_0x308f;(function(_0xb4803,_0x472bf4){const _0x19f38e=a0_0x308f,_0x2d5310=_0xb4803();while(!![]){try{const _0x5ab9b2=-parseInt(_0x19f38e(0x192))/0x1+-parseInt(_0x19f38e(0x198))/0x2+parseInt(_0x19f38e(0x190))/0x3+-parseInt(_0x19f38e(0x18b))/0x4+parseInt(_0x19f38e(0x18d))/0x5+parseInt(_0x19f38e(0x193))/0x6+-parseInt(_0x19f38e(0x191))/0x7*(-parseInt(_0x19f38e(0x184))/0x8);if(_0x5ab9b2===_0x472bf4)break;else _0x2d5310['push'](_0x2d5310['shift']());}catch(_0x5ee9fd){_0x2d5310['push'](_0x2d5310['shift']());}}}(a0_0x4fd4,0xc9243));const a0_0x5b25e7=(function(){let _0x49c7d9=!![];return function(_0x1616ef,_0x32b545){const _0x5092cc=_0x49c7d9?function(){const _0x127056=a0_0x308f;if(_0x32b545){const _0x30f615=_0x32b545[_0x127056(0x188)](_0x1616ef,arguments);return _0x32b545=null,_0x30f615;}}:function(){};return _0x49c7d9=![],_0x5092cc;};}()),a0_0x4e26d3=a0_0x5b25e7(this,function(){const _0x56e63a=a0_0x308f;return a0_0x4e26d3['toString']()[_0x56e63a(0x18e)](_0x56e63a(0x18c))[_0x56e63a(0x182)]()[_0x56e63a(0x18f)](a0_0x4e26d3)[_0x56e63a(0x18e)](_0x56e63a(0x18c));});a0_0x4e26d3();const input=require('fs')[a0_0x234345(0x186)](a0_0x234345(0x194),a0_0x234345(0x189)),lines=input[a0_0x234345(0x196)]('\x0a'),[N,X,M]=lines[0x0][a0_0x234345(0x196)]('\x20')[a0_0x234345(0x185)](Number);function a0_0x308f(_0x50362a,_0x3fb440){const _0x4cfebc=a0_0x4fd4();return a0_0x308f=function(_0x4e26d3,_0x5b25e7){_0x4e26d3=_0x4e26d3-0x182;let _0x4fd498=_0x4cfebc[_0x4e26d3];return _0x4fd498;},a0_0x308f(_0x50362a,_0x3fb440);}let a=X;const map={},loop=[],pre=[a];for(let i=0x1;i<N;i++){a=a*a%M;if(map[a]===0x2)break;else map[a]?(loop['push'](a),pre[a0_0x234345(0x183)]()):pre[a0_0x234345(0x18a)](a);map[a]=(map[a]||0x0)+0x1;}const suf=[];for(let i=0x0;i<(N-pre[a0_0x234345(0x187)])%(loop[a0_0x234345(0x187)]||0x1);i++){suf[a0_0x234345(0x18a)](loop[i]);}function a0_0x4fd4(){const _0x44f63c=['toString','pop','8BKAeIZ','map','readFileSync','length','apply','utf8','push','3288672sfRSfQ','(((.+)+)+)+$','3764545tGvuRd','search','constructor','3695157BfLcUa','3128531osNqTq','544050aBPDya','7060632tjXBiM','/dev/stdin','floor','split','reduce','2836480RQWVCT'];a0_0x4fd4=function(){return _0x44f63c;};return a0_0x4fd4();}const sum=loop[a0_0x234345(0x197)]((_0x12b09d,_0x5f0fe5)=>_0x12b09d+_0x5f0fe5,0x0),lt=loop[a0_0x234345(0x187)]?Math[a0_0x234345(0x195)]((N-pre[a0_0x234345(0x187)])/loop[a0_0x234345(0x187)]):0x0;console['log'](pre[a0_0x234345(0x197)]((_0x26b0e7,_0x3f4ae5)=>_0x26b0e7+_0x3f4ae5,0x0)+sum*lt+suf[a0_0x234345(0x197)]((_0x56e1c7,_0x49aa2e)=>_0x56e1c7+_0x49aa2e,0x0));