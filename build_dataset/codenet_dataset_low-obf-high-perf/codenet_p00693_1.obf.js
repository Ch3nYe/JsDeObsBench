var a0_0x401da2=a0_0x3b06;(function(_0x3768e4,_0x39095c){var _0x30cd33=a0_0x3b06,_0x543c17=_0x3768e4();while(!![]){try{var _0x48f8d6=parseInt(_0x30cd33(0x15a))/0x1*(-parseInt(_0x30cd33(0x15d))/0x2)+-parseInt(_0x30cd33(0x162))/0x3*(parseInt(_0x30cd33(0x168))/0x4)+parseInt(_0x30cd33(0x158))/0x5*(-parseInt(_0x30cd33(0x15b))/0x6)+parseInt(_0x30cd33(0x16b))/0x7*(-parseInt(_0x30cd33(0x157))/0x8)+parseInt(_0x30cd33(0x167))/0x9*(-parseInt(_0x30cd33(0x166))/0xa)+-parseInt(_0x30cd33(0x165))/0xb*(-parseInt(_0x30cd33(0x153))/0xc)+parseInt(_0x30cd33(0x164))/0xd;if(_0x48f8d6===_0x39095c)break;else _0x543c17['push'](_0x543c17['shift']());}catch(_0x40c10c){_0x543c17['push'](_0x543c17['shift']());}}}(a0_0x17a3,0xe0e0f));var a0_0x14cd94=(function(){var _0x3a6f4f=!![];return function(_0x32572f,_0x13ddef){var _0x2614ea=_0x3a6f4f?function(){var _0x29b218=a0_0x3b06;if(_0x13ddef){var _0x366216=_0x13ddef[_0x29b218(0x163)](_0x32572f,arguments);return _0x13ddef=null,_0x366216;}}:function(){};return _0x3a6f4f=![],_0x2614ea;};}()),a0_0x27f7cb=a0_0x14cd94(this,function(){var _0x2876bf=a0_0x3b06;return a0_0x27f7cb[_0x2876bf(0x159)]()[_0x2876bf(0x161)]('(((.+)+)+)+$')[_0x2876bf(0x159)]()['constructor'](a0_0x27f7cb)[_0x2876bf(0x161)]('(((.+)+)+)+$');});a0_0x27f7cb();var input=require('fs')[a0_0x401da2(0x156)](a0_0x401da2(0x15c),a0_0x401da2(0x15f));function a0_0x3b06(_0x595bc6,_0x287d94){var _0x3aec3f=a0_0x17a3();return a0_0x3b06=function(_0x27f7cb,_0x14cd94){_0x27f7cb=_0x27f7cb-0x152;var _0x17a31a=_0x3aec3f[_0x27f7cb];return _0x17a31a;},a0_0x3b06(_0x595bc6,_0x287d94);}input=input['replace'](/\?/g,'.');var arr=input[a0_0x401da2(0x155)]()[a0_0x401da2(0x16c)]('\x0a');while(!![]){var nm=arr[a0_0x401da2(0x152)]()['split']('\x20')[a0_0x401da2(0x154)](Number),n=nm[0x0],m=nm[0x1];if(n==0x0&&m==0x0)break;var rule=[];while(n--){var ary=arr['shift']()[a0_0x401da2(0x16c)]('\x20'),flag=ary[0x0]==a0_0x401da2(0x16a)?!![]:![];rule[a0_0x401da2(0x169)]([flag,new RegExp(ary[0x1]+ary[0x2])]);}var ans=[];while(m--){var packet=arr[a0_0x401da2(0x152)]()[a0_0x401da2(0x16c)]('\x20'),str=packet[0x0]+packet[0x1],flag=![];rule[a0_0x401da2(0x15e)](function(_0x240a10){var _0x590bff=a0_0x401da2;if(_0x240a10[0x0]==!![]&&_0x240a10[0x1][_0x590bff(0x160)](str))flag=!![];else{if(_0x240a10[0x0]==![]&&_0x240a10[0x1][_0x590bff(0x160)](str))flag=![];}});if(flag)ans[a0_0x401da2(0x169)](packet['join']('\x20'));}console['log'](ans['length']),ans[a0_0x401da2(0x15e)](function(_0x43180b){console['log'](_0x43180b);});}function a0_0x17a3(){var _0x2026ef=['permit','3497893VgsOwG','split','shift','6066936ZzBZAS','map','trim','readFileSync','24emEsoL','825IyWrHN','toString','13hcEfck','25044DekCGS','/dev/stdin','61022DUaQEU','forEach','utf8','test','search','93kgQvuX','apply','63116482IAgSkT','11YxJXlj','160kaKpZe','908532goNeli','30964VFiFBp','push'];a0_0x17a3=function(){return _0x2026ef;};return a0_0x17a3();}