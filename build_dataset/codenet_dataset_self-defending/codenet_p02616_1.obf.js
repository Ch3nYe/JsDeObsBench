const a0_0x113b47=(function(){let firstCall=!![];return function(context,fn){const rfn=firstCall?function(){if(fn){const res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());const a0_0x46be1b=a0_0x113b47(this,function(){return a0_0x46be1b['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x46be1b)['search']('(((.+)+)+)+$');});a0_0x46be1b();console['log']((args=>{const [[N,K],A]=args['trim']()['split']('\x0a')['map'](r=>r['split']('\x20')['map'](v=>v|0x0));let Am=[],Ap=[];for(let i=0x0;i<N;i++){if(A[i]>0x0)Ap['push'](A[i]);if(A[i]<0x0)Am['push'](A[i]);}const MOD=BigInt(0x3b9aca00+0x7),mul=(a,b)=>(BigInt(a)*BigInt(b)%MOD+MOD)%MOD;Am['sort']((a,b)=>a-b);Ap['sort']((a,b)=>b-a);if(Ap['length']===0x0&&K&0x1)return''+Am['slice'](-K)['reduce'](mul,0x1);let om=0x0,op=0x0,ap=[],am=[];for(let i=0x0;i<K;i++){if((Ap[op]|0x0)>-(Am[om]|0x0)){ap['push'](Ap[op]);op++;}else{am['push'](Am[om]);om++;}}if(am['length']&0x1){if((Ap[op]|0x0)>-(Am[om]|0x0)){ap['push'](Ap[op]);am['pop']();}else{am['push'](Am[om]);ap['pop']();}}return''+mul(ap['reduce'](mul,0x1),am['reduce'](mul,0x1));})(require('fs')['readFileSync']('/dev/stdin','utf8')));