var a0_0x259c54=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var a0_0x278d44=a0_0x259c54(this,function(){return a0_0x278d44['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x278d44)['search']('(((.+)+)+)+$');});a0_0x278d44();function saiki(str,flag){while(!![]){if(/\[{2}\d.*?\]{2}/['test'](str)){str=str['replace'](/\[{2}\d.*?\]{2}/,function(s){var d=s['slice'](0x2,-0x2)['split']('][')['map'](Number);d['sort']((a,b)=>a-b);var sum=0x0;for(var i=0x0;i<Math['ceil'](d['length']/0x2);i++){if(flag)sum+=Math['floor'](d[i]/0x2)+0x1;else sum+=Math['floor'](d[i]);}return'('+sum+')';});}else break;}str=str['replace'](/\(/g,'[');str=str['replace'](/\)/g,']');return str;}var input=require('fs')['readFileSync']('/dev/stdin','utf8');var arr=input['trim']()['split']('\x0a');var n=arr['shift']()-0x0;arr['forEach'](str=>{str=saiki(str,!![]);while(/\[\[/['test'](str))str=saiki(str,![]);console['log'](str['replace'](/\[|\]/g,''));});