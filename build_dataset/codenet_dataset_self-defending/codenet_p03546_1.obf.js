const a0_0x4649da=(function(){let firstCall=!![];return function(context,fn){const rfn=firstCall?function(){if(fn){const res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());const a0_0x19a3ba=a0_0x4649da(this,function(){return a0_0x19a3ba['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x19a3ba)['search']('(((.+)+)+)+$');});a0_0x19a3ba();console['log']((args=>{const [[H,W],...tmp]=args['trim']()['split']`\n`['map'](r=>r['split']` `['map'](v=>v|0x0));const A=tmp['slice'](0xa);const dp=tmp['slice'](0x0,0xa);for(let k=0x0;k<0xa;k++){for(let i=0x0;i<0xa;i++){for(let j=0x0;j<0xa;j++){dp[i][j]=Math['min'](dp[i][j],dp[i][k]+dp[k][j]);}}}let cost=0x0;for(let i=0x0;i<H;i++){for(let j=0x0;j<W;j++){if(A[i][j]===-0x1||A[i][j]===0x1)continue;cost+=dp[A[i][j]][0x1];}}return''+cost;})(require('fs')['readFileSync']('/dev/stdin','utf8')));