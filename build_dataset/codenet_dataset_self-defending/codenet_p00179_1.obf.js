function BFS(x){var _0xb716ca=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var _0x4de98b=_0xb716ca(this,function(){return _0x4de98b['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4de98b)['search']('(((.+)+)+)+$');});_0x4de98b();var obj={};var bfs=[[x,0x0]];obj[x]=!![];while(!![]){if(bfs['length']==0x0){ans='NA';break;}var leaf=bfs['shift']();var str=leaf[0x0];var cnt=leaf[0x1];if(/^0+$|^1+$|^2+$/['test'](str)){ans=cnt;break;}for(var i=0x0;i<str['length']-0x1;i++){if(str[i]==str[i+0x1])continue;var arr=str['split']('');var color=0x3-+arr[i]-+arr[i+0x1];arr[i]=color;arr[i+0x1]=color;var Str=arr['join']('');if(obj['hasOwnProperty'](Str)==![]){bfs['push']([Str,cnt+0x1]);obj[Str]=!![];}}}}var input=require('fs')['readFileSync']('/dev/stdin','utf8');var Arr=input['trim']()['split']('\x0a');while(!![]){var rgb=Arr['shift']();if(rgb=='0')break;rgb=rgb['replace'](/r/g,'0')['replace'](/g/g,'1')['replace'](/b/g,'2');var ans;BFS(rgb);console['log'](ans);}