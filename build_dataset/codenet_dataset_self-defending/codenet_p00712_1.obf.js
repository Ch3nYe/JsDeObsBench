var input=require('fs')['readFileSync']('/dev/stdin','utf8');var arr=input['trim']()['split']('\x0a');while(!![]){var pqan=arr['shift']()['split']('\x20')['map'](Number);if(pqan['join']('\x20')=='0\x200\x200\x200')break;var p=pqan[0x0];var q=pqan[0x1];var a=pqan[0x2];var n=pqan[0x3];var ans=0x0;var loop=function(start,P,Q,A,cnt){var _0x4c20dd=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var _0x3339fd=_0x4c20dd(this,function(){return _0x3339fd['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3339fd)['search']('(((.+)+)+)+$');});_0x3339fd();if(cnt>0x0){if(cnt>n)return;if(p*Q==P*q){ans++;return;}else if(p*Q<P*q)return;}for(var i=start;A*i<=a;i++){loop(i,0x1*Q+i*P,Q*i,A*i,cnt+0x1);}};loop(0x1,0x0,0x1,0x1,0x0);console['log'](ans);}