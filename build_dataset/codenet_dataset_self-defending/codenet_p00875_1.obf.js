function BFS(){var _0x10f522=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var _0x3b1864=_0x10f522(this,function(){return _0x3b1864['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3b1864)['search']('(((.+)+)+)+$');});_0x3b1864();var bfs=[[s0,0x0]];while(!![]){if(bfs['length']==0x0)break;var [leaf,cnt]=bfs['shift']();if(leaf==s1){flag=!![];console['log'](cnt);break;}ab['forEach'](v=>{if(leaf['includes'](v[0x0])){var re=new RegExp(v[0x0],'g');var str=leaf['replace'](re,v[0x1]);if(str['length']<=0xa)bfs['push']([str,cnt+0x1]);}});}}var input=require('fs')['readFileSync']('/dev/stdin','utf8');var arr=input['trim']()['split']('\x0a');while(!![]){var n=arr['shift']()-0x0;if(n==0x0)break;var ab=arr['slice'](0x0,n)['map'](v=>v['split']('\x20'));;arr=arr['slice'](n);var s0=arr['shift']();var s1=arr['shift']();var flag=![];BFS();if(!flag)console['log'](-0x1);}