var a0_0x503284=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var a0_0x25e40b=a0_0x503284(this,function(){return a0_0x25e40b['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x25e40b)['search']('(((.+)+)+)+$');});a0_0x25e40b();var input=require('fs')['readFileSync']('/dev/stdin','utf8');var Arr=input['replace'](/\n$/,'')['split']('\x0a');while(!![]){var arr=Arr['shift']()['split']('\x20')['map'](Number);if(arr['join']('')=='00000')break;var y=Arr['shift']()['split']('\x20')['map'](Number);(function(N,A,B,C,X){var i=0x0;while(!![]){if(y[0x0]==X)y['shift']();if(y['length']==0x0){console['log'](i);break;}X=(A*X+B)%C;i++;if(i==0x2711){console['log'](-0x1);break;}}}['apply'](null,arr));}