var a0_0x49b7df=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var a0_0x57cc48=a0_0x49b7df(this,function(){return a0_0x57cc48['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x57cc48)['search']('(((.+)+)+)+$');});a0_0x57cc48();var input=require('fs')['readFileSync']('/dev/stdin','utf8');var arr=input['trim']()['split']('\x0a');while(!![]){var MTPR=arr['shift']();if(MTPR=='0\x200\x200\x200')break;MTPR=MTPR['split']('\x20')['map'](Number);var team=[];for(var i=0x0;i<MTPR[0x1];i++)team['push']([0x0,0x0,[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],i]);for(var i=0x0;i<MTPR[0x3];i++){var mtpj=arr['shift']()['split']('\x20')['map'](Number);var m=mtpj[0x0];var t=mtpj[0x1]-0x1;var p=mtpj[0x2]-0x1;var j=mtpj[0x3];if(j==0x0){team[t][0x0]++;team[t][0x1]+=m+team[t][0x2][p]*0x14;}if(j!=0x0)team[t][0x2][p]++;}team['sort'](function(a,b){if(a[0x0]==b[0x0]&&a[0x1]==b[0x1])return b[0x3]-a[0x3];else if(a[0x0]==b[0x0])return a[0x1]-b[0x1];else return b[0x0]-a[0x0];});var ans=[];var same=[-0x1,-0x1];team['forEach'](function(v,i){if(same[0x0]==v[0x0]&&same[0x1]==v[0x1])ans[ans['length']-0x1]+='='+(v[0x3]+0x1);else{ans['push'](v[0x3]+0x1);same=[v[0x0],v[0x1]];}});console['log'](ans['join'](','));}