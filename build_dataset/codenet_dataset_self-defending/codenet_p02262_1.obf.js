const a0_0x9a2ab4=(function(){let firstCall=!![];return function(context,fn){const rfn=firstCall?function(){if(fn){const res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());const a0_0x423b84=a0_0x9a2ab4(this,function(){return a0_0x423b84['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x423b84)['search']('(((.+)+)+)+$');});a0_0x423b84();const config={'input':'/dev/stdin','newline':'\x0a'};const line=require('fs')['readFileSync'](config['input'],'utf-8')['split'](config['newline']);let cnt=0x0;const isort=(arr,g)=>{for(let i=g;i<arr['length'];i++){let v=arr[i];let j=i-g;while(j>=0x0&&arr[j]>v){arr[j+g]=arr[j];j=j-g;cnt++;}arr[j+g]=v;}return arr;};const shellSort=arr=>{const g=arr['map']((_,i)=>0x3*i+0x1)['filter'](x=>x<=arr['length'])['reverse']();console['log'](g['length']);console['log'](g['map'](x=>x['toString']())['join']('\x20'));for(i=0x0;i<arr['length'];i++){arr=isort(arr,g[i]);}return arr;};const n=parseInt(line[0x0]);const data=line['slice'](0x1,n+0x1)['map'](x=>parseInt(x));const sorted=shellSort(data);console['log'](cnt);console['log'](sorted['map'](x=>x['toString']())['join']('\x0a'));