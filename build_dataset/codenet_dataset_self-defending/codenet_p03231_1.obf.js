function toNum(str){return parseInt(str,0xa);}function gcd(a,b){if(a%b===0x0){return b;}else{return gcd(b,a%b);}}function lcm(a,b){return a*b/gcd(a,b);}function Main(input){var _0x4a7e33=(function(){var firstCall=!![];return function(context,fn){var rfn=firstCall?function(){if(fn){var res=fn['apply'](context,arguments);fn=null;return res;}}:function(){};firstCall=![];return rfn;};}());var _0x5314e5=_0x4a7e33(this,function(){return _0x5314e5['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x5314e5)['search']('(((.+)+)+)+$');});_0x5314e5();var N=toNum(input['split']('\x0a')[0x0]['split']('\x20')[0x0]);var M=toNum(input['split']('\x0a')[0x0]['split']('\x20')[0x1]);var S=input['split']('\x0a')[0x1];var T=input['split']('\x0a')[0x2];var L=lcm(N,M);var flag=!![];var X=[];for(var i=0x0;i<L;i++){X['push']('');}X[0x0]=S[0x0];for(var i=0x1;i<S['length'];i++){X[i*(L/N)]=S[i];}if(X[0x0]!=T[0x0]){console['log']('-1');}else{for(var i=0x1;i<T['length'];i++){if(X[i*(L/M)]!=''&&X[i*(L/M)]!=T[i]){console['log']('-1');flag=![];break;}}}if(flag){console['log'](L);}}Main(require('fs')['readFileSync']('/dev/stdin','utf8'));